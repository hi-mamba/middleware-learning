## [Zookeeper的应用场景](https://www.jianshu.com/p/6af7362701c5)

# Zookeeper的应用场景

Zookeeper是一个高可用的分布式数据管理和协调框架，并且能够很好的保证分布式环境中数据的一致性。
在越来越多的分布式系统（Hadoop、HBase、Kafka）中，Zookeeper都作为核心组件使用。

## 1.zookeeper应用场景

1. 统一命名服务（Name Service）

2. 配置管理（Configuration Management）   
   机器的配置列表、运行时的开关配置、数据库配置信息等，具有以下特点：
   - 数据量比较小
   - 数据内容在运行时发生变化
   - 集群中各节点共享信息，配置一致

3. 集群管理（Group Membership）
Leader，实现集群容错功能，具有以下特点：

   - 希望知道集群中有多少机器在工作
   - 对集群中每天运行状态进行数据收集
   - 对集群中每个节点进行上下线操作

4. 共享锁（Locks）：分布式锁

5. 队列管理

6. 发布/订阅：分布式数据的发布与订阅   

   数据发布/订阅系统，即配置中心。需要发布者将数据发布到Zookeeper的节点上，供订阅者进行数据订阅，
进而达到动态获取数据的目的，实现配置信息的集中式管理和数据的动态更新。
发布/订阅一般有两种设计模式：推模式和拉模式
```
推模式：服务端主动将数据更新发送给所有订阅的客户端
拉模式：客户端主动请求获取最新数据
```
Zookeeper采用了推拉相结合的模式，客户端向服务端注册自己需要关注的节点，一旦该节点数据发生变更，
那么服务端就会向相应的客户端推送Watcher事件通知，客户端接收到此通知后，主动到服务端获取最新的数据。

若将配置信息存放到Zookeeper上进行集中管理，在通常情况下，应用在启动时会主动到Zookeeper服务端上进行一次配置信息的获取，
同时，在指定节点上注册一个Watcher监听，这样在配置信息发生变更，服务端都会实时通知所有订阅的客户端，
从而达到实时获取最新配置的目的。

7. 数据库切换：数据库配置
